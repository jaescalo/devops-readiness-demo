{
    "rules": {
        "name": "default",
        "children": [
            {
                "name": "Failover",
                "children": [
                    {
                        "name": "Artificially Break Connection",
                        "children": [],
                        "behaviors": [
                            {
                                "name": "breakConnection",
                                "options": {
                                    "enabled": true
                                }
                            }
                        ],
                        "criteria": [
                            {
                                "name": "queryStringParameter",
                                "options": {
                                    "parameterName": "breakconnection",
                                    "matchCaseSensitiveName": false,
                                    "matchWildcardName": false,
                                    "matchOperator": "IS_ONE_OF",
                                    "values": [
                                        "true"
                                    ],
                                    "matchCaseSensitiveValue": false,
                                    "matchWildcardValue": false,
                                    "escapeValue": false
                                }
                            }
                        ],
                        "criteriaMustSatisfy": "any",
                        "comments": "Simulate that your origin is unavailable by breaking the connection to the origin when query string parameter breakconnection is equal to true"
                    },
                    {
                        "name": "Serve Sorry Page from Alternate Hostname",
                        "children": [],
                        "behaviors": [
                            {
                                "name": "failAction",
                                "options": {
                                    "contentCustomPath": true,
                                    "contentHostname": "failover-jaescalo.test.edgekey.net",
                                    "contentPath": "/failaction/maintenance.html?akamai-error={{user.PMUSER_REFERENCE_ERROR}}",
                                    "preserveQueryString": false,
                                    "enabled": true,
                                    "actionType": "RECREATED_CO"
                                }
                            },
                            {
                                "name": "downstreamCache",
                                "options": {
                                    "behavior": "BUST"
                                }
                            }
                        ],
                        "criteria": [
                            {
                                "name": "originTimeout",
                                "options": {
                                    "matchOperator": "ORIGIN_TIMED_OUT"
                                }
                            },
                            {
                                "name": "matchResponseCode",
                                "options": {
                                    "matchOperator": "IS_ONE_OF",
                                    "values": [
                                        "500",
                                        "503",
                                        "504"
                                    ]
                                }
                            }
                        ],
                        "criteriaMustSatisfy": "any",
                        "comments": ""
                    },
                    {
                        "name": "Disable Failover",
                        "children": [],
                        "behaviors": [
                            {
                                "name": "failAction",
                                "options": {
                                    "enabled": false
                                }
                            }
                        ],
                        "criteria": [
                            {
                                "name": "queryStringParameter",
                                "options": {
                                    "parameterName": "disablefailover",
                                    "matchCaseSensitiveName": false,
                                    "matchWildcardName": false,
                                    "matchOperator": "IS_ONE_OF",
                                    "values": [
                                        "true"
                                    ],
                                    "matchCaseSensitiveValue": false,
                                    "matchWildcardValue": false,
                                    "escapeValue": false
                                }
                            }
                        ],
                        "criteriaMustSatisfy": "any",
                        "comments": "Simulate that your origin is unavailable by breaking the connection to the origin when query string parameter breakconnection is equal to true"
                    },
                    {
                        "name": "NS Base Path",
                        "children": [],
                        "behaviors": [
                            {
                                "name": "baseDirectory",
                                "options": {
                                    "value": "/jaescalo/"
                                }
                            },
                            {
                                "name": "setVariable",
                                "options": {
                                    "variableName": "PMUSER_REFERENCE_ERROR",
                                    "valueSource": "EXTRACT",
                                    "transform": "NONE",
                                    "extractLocation": "QUERY_STRING",
                                    "queryParameterName": "akamai-error"
                                }
                            },
                            {
                                "name": "rewriteUrl",
                                "options": {
                                    "behavior": "REGEX_REPLACE",
                                    "keepQueryString": false,
                                    "matchMultiple": true,
                                    "matchRegex": "(\\/\\b.*)(\\?\\b.*$)",
                                    "targetRegex": "$1"
                                }
                            }
                        ],
                        "criteria": [
                            {
                                "name": "hostname",
                                "options": {
                                    "matchOperator": "IS_ONE_OF",
                                    "values": [
                                        "failover-jaescalo.test.edgekey.net"
                                    ]
                                }
                            }
                        ],
                        "criteriaMustSatisfy": "any",
                        "comments": "Simulate that your origin is unavailable by breaking the connection to the origin when query string parameter breakconnection is equal to true"
                    },
                    {
                        "name": "EW Case based on GRN ERR",
                        "children": [],
                        "behaviors": [
                            {
                                "name": "baseDirectory",
                                "options": {
                                    "value": "/jaescalo/"
                                }
                            }
                        ],
                        "criteria": [
                            {
                                "name": "hostname",
                                "options": {
                                    "matchOperator": "IS_NOT_ONE_OF",
                                    "values": [
                                        "failover-jaescalo.test.edgekey.net"
                                    ]
                                }
                            },
                            {
                                "name": "path",
                                "options": {
                                    "matchOperator": "MATCHES_ONE_OF",
                                    "values": [
                                        "/failaction/maintenance.html"
                                    ],
                                    "matchCaseSensitive": false,
                                    "normalize": false
                                }
                            }
                        ],
                        "criteriaMustSatisfy": "all",
                        "comments": "Simulate that your origin is unavailable by breaking the connection to the origin when query string parameter breakconnection is equal to true"
                    }
                ],
                "behaviors": [
                    {
                        "name": "advanced",
                        "options": {
                            "description": "Capture Akamai Reference Error from default header",
                            "xml": "<!-- REF ERROR CAPTURE -->\n<edgeservices:modify-outgoing-response.add-error-reference-header>on</edgeservices:modify-outgoing-response.add-error-reference-header>\n\n<match:metadata-stage value=\"client-response client-done\">\n    <match:response.header name=\"X-Reference-Error\">\n        <assign:extract-value>\n            <location>Response_Header</location>\n            <location-id>X-Reference-Error</location-id>\n            <variable-name>PMUSER_REFERENCE_ERROR</variable-name>\n        </assign:extract-value>\n    </match:response.header>\n</match:metadata-stage>"
                        },
                        "uuid": "1c06b253-813a-45a7-8d58-5283ac59cfc9"
                    }
                ],
                "uuid": "397dd871-a6b7-42ae-a6b8-a22f6271bcc3",
                "criteria": [],
                "criteriaMustSatisfy": "all"
            },
            {
                "name": "JSON Files Location",
                "children": [],
                "behaviors": [
                    {
                        "name": "baseDirectory",
                        "options": {
                            "value": "/jaescalo/json_files/"
                        }
                    }
                ],
                "criteria": [
                    {
                        "name": "filename",
                        "options": {
                            "matchOperator": "IS_ONE_OF",
                            "values": [
                                "inline.json"
                            ],
                            "matchCaseSensitive": true
                        }
                    }
                ],
                "criteriaMustSatisfy": "all"
            },
            {
                "name": "Cloud Monitor SumoLogic",
                "children": [],
                "behaviors": [
                    {
                        "name": "setVariable",
                        "options": {
                            "variableName": "PMUSER_REFERERHASH",
                            "valueSource": "EXTRACT",
                            "transform": "MD5",
                            "extractLocation": "CLIENT_REQUEST_HEADER",
                            "headerName": "Referer"
                        }
                    },
                    {
                        "name": "edgeConnect",
                        "options": {
                            "enabled": true,
                            "apiConnector": "DEFAULT",
                            "apiDataElements": [
                                "HTTP",
                                "REQUEST_HEADER",
                                "RESPONSE_HEADER",
                                "NETWORK_PERFORMANCE",
                                "APM",
                                "GEO",
                                "NETWORK_V1",
                                "SEC_APP_V2",
                                "SEC_RATE_WARN_V2",
                                "SEC_RATE_DENY_V2"
                            ],
                            "destinationHostname": "jaescalo-cloudmon.test.edgekey.net",
                            "destinationPath": "/receiver/v1/http/ZaVnC4dhaV3DwlPuhVMxWEUMuYTRoSmD_AKM2lYGVug2H35YBzF5Dlru_36oXwrXSe3p11TyVkHqx0mBlz8zH2EeqIQUI6QXT0YK_Z2esHR-CgMh6Ru1Vw==",
                            "overrideAggregateSettings": true,
                            "aggregateTime": "60s",
                            "aggregateLines": "5",
                            "aggregateSize": "100KB"
                        }
                    },
                    {
                        "name": "advanced",
                        "options": {
                            "description": "CloudMon custom data set",
                            "xml": "<match:metadata-stage value=\"client-response client-done\">\n\t<match:variable name=\"DO_EDGECONNECT_PUBLISH\" value=\"on\">\n\t    <match:variable name=\"ENT_EDGECONNECT_NO_DLR_NEEDED\" value=\"on\" result=\"false\">\n\t        <assign:variable>\n\t            <name>EDGECONNECT_CUSTOM_DATA</name>\n\t            <value>{\"CustomData\":{\"cache-key\":\"%(AK_ARL)\",\"hashreferer\":\"%(PMUSER_REFERERHASH)\"}}</value>\n\t        </assign:variable>\n\t    </match:variable>\n\t</match:variable>\n</match:metadata-stage>"
                        },
                        "uuid": "943492f2-5f1e-4b3f-9f25-4f8ad6fb523c"
                    }
                ],
                "uuid": "4e4f5528-13cb-4551-9f6d-af8c102906db",
                "criteria": [],
                "criteriaMustSatisfy": "all"
            },
            {
                "name": "VP Maintenance Pages",
                "children": [
                    {
                        "name": "Visitor Prioritization",
                        "children": [],
                        "behaviors": [
                            {
                                "name": "visitorPrioritization",
                                "options": {
                                    "enabled": true,
                                    "cloudletPolicy": {
                                        "id": 145602,
                                        "name": "jaescalo_VP_demo"
                                    },
                                    "userIdentificationTitle": "",
                                    "userIdentificationByCookie": false,
                                    "userIdentificationByHeaders": false,
                                    "userIdentificationByIp": false,
                                    "userIdentificationByParams": false,
                                    "allowedUserCookieManagementTitle": "",
                                    "allowedUserCookieEnabled": true,
                                    "waitingRoomCookieManagementTitle": "",
                                    "waitingRoomCookieEnabled": true,
                                    "waitingRoomManagementTitle": "",
                                    "waitingRoomStatusCode": 200,
                                    "waitingRoomUseCpCode": false,
                                    "waitingRoomNetStorage": {
                                        "downloadDomainName": "gsstrip.download.akamai.com",
                                        "cpCode": 405092,
                                        "g2oToken": "405092=6G96eY0RZK5O3Eb2xYVFzfzt8Pn8fZ37Cnv93266KVNB1U6VF1"
                                    },
                                    "waitingRoomDirectory": "/jaescalo/maintenance",
                                    "waitingRoomCacheTtl": 5,
                                    "allowedUserCookieLabel": "ak_vp_jaescalo",
                                    "allowedUserCookieDuration": 300,
                                    "allowedUserCookieRefresh": true,
                                    "allowedUserCookieAdvanced": false,
                                    "waitingRoomCookieShareLabel": true,
                                    "waitingRoomCookieDuration": 30,
                                    "waitingRoomCookieAdvanced": false
                                }
                            },
                            {
                                "name": "cacheTag",
                                "options": {
                                    "tag": "demo"
                                }
                            }
                        ],
                        "criteria": [
                            {
                                "name": "path",
                                "options": {
                                    "matchOperator": "DOES_NOT_MATCH_ONE_OF",
                                    "values": [
                                        "/maintenance/www/*",
                                        "/maintenance/acceso24/*",
                                        "/maintenance/all/*",
                                        "/maintenance/green/*",
                                        "/maintenance/red/*",
                                        "/maintenance/blue/*",
                                        "*/maintenance/*"
                                    ],
                                    "matchCaseSensitive": false,
                                    "normalize": false
                                }
                            }
                        ],
                        "criteriaMustSatisfy": "all"
                    },
                    {
                        "name": "VP Page Assets",
                        "children": [],
                        "behaviors": [
                            {
                                "name": "rewriteUrl",
                                "options": {
                                    "behavior": "REGEX_REPLACE",
                                    "keepQueryString": false,
                                    "matchMultiple": true,
                                    "matchRegex": "(.*)(\\/maintenance.*)",
                                    "targetRegex": "$2"
                                }
                            },
                            {
                                "name": "baseDirectory",
                                "options": {
                                    "value": "/vp/jaescalo/"
                                }
                            }
                        ],
                        "criteria": [
                            {
                                "name": "path",
                                "options": {
                                    "matchOperator": "MATCHES_ONE_OF",
                                    "values": [
                                        "/maintenance/www/*",
                                        "/maintenance/acceso24/*",
                                        "/maintenance/all/*",
                                        "/maintenance/green/*",
                                        "/maintenance/red/*",
                                        "/maintenance/blue/*",
                                        "*/maintenance/*"
                                    ],
                                    "matchCaseSensitive": false,
                                    "normalize": false
                                }
                            }
                        ],
                        "criteriaMustSatisfy": "all"
                    }
                ],
                "behaviors": [],
                "criteria": [],
                "criteriaMustSatisfy": "all"
            },
            {
                "name": "IPA Demo",
                "children": [
                    {
                        "name": "IPA - Enable",
                        "children": [],
                        "behaviors": [
                            {
                                "name": "advanced",
                                "options": {
                                    "description": "Enable IPA request to alternate origin",
                                    "xml": "<!-- Enable IPA request to alternate origin -->\n<match:metadata-stage value=\"client-request-body\">  \n  <edgeservices:processing-agent>\n    <log-r-line>on</log-r-line>\n    <host>ipa-www.jaescalo.com</host>\n    <url>/credentials.txt</url>\n  </edgeservices:processing-agent>\n</match:metadata-stage>"
                                },
                                "uuid": "a00f9f14-89d7-46db-a40f-b38e5fec6bb2"
                            }
                        ],
                        "uuid": "1fb21954-3d08-4c18-999d-0ef731157be4",
                        "criteria": [
                            {
                                "name": "hostname",
                                "options": {
                                    "matchOperator": "IS_NOT_ONE_OF",
                                    "values": [
                                        "ipa-www.jaescalo.com"
                                    ]
                                }
                            }
                        ],
                        "criteriaMustSatisfy": "all"
                    },
                    {
                        "name": "IPA Origin",
                        "children": [],
                        "behaviors": [
                            {
                                "name": "origin",
                                "options": {
                                    "originType": "NET_STORAGE",
                                    "netStorage": {
                                        "downloadDomainName": "gsstrip.download.akamai.com",
                                        "cpCode": 405092,
                                        "g2oToken": "405092=6G96eY0RZK5O3Eb2xYVFzfzt8Pn8fZ37Cnv93266KVNB1U6VF1"
                                    }
                                }
                            },
                            {
                                "name": "baseDirectory",
                                "options": {
                                    "value": "/jaescalo/"
                                }
                            }
                        ],
                        "criteria": [
                            {
                                "name": "hostname",
                                "options": {
                                    "matchOperator": "IS_ONE_OF",
                                    "values": [
                                        "ipa-www.jaescalo.com"
                                    ]
                                }
                            }
                        ],
                        "criteriaMustSatisfy": "all",
                        "comments": "Using the same as the default origin just for demo."
                    },
                    {
                        "name": "IPA Request Details",
                        "children": [],
                        "behaviors": [
                            {
                                "name": "advanced",
                                "options": {
                                    "description": "Enable IPA response body inspection.",
                                    "xml": "<edgeservices:inspect-response-body.status>on</edgeservices:inspect-response-body.status>"
                                },
                                "uuid": "5f7f53b3-f397-4d37-854e-6a845de2de9a"
                            }
                        ],
                        "uuid": "a436978c-7f18-4d44-bce6-44bf2752931c",
                        "criteria": [
                            {
                                "name": "matchAdvanced",
                                "options": {
                                    "description": "IPA Request Details",
                                    "openXml": "<match:processing-agent-request host=\"*\">",
                                    "closeXml": "</match:processing-agent-request>"
                                },
                                "uuid": "f09273c1-1274-41e7-a071-87b85e4efa50"
                            }
                        ],
                        "criteriaMustSatisfy": "all"
                    },
                    {
                        "name": "IPA Response",
                        "children": [],
                        "behaviors": [
                            {
                                "name": "advanced",
                                "options": {
                                    "description": "",
                                    "xml": "<!-- Check if the IPA response is 200 or not and set status variables. -->\n<match:processing-agent-response host=\"ipa-www.jaescalo.com\">\n  <match:regex select=\"IPA_RESPONSE_STATUS\" regex=\".*\">  \n    <assign:variable>  \n      <name>ET_RESP_HTTP_STATUS</name>  \n      <value>%(AK_SELECT)</value>  \n    </assign:variable>  \n  </match:regex>  \n   \n  <match:response.status value=\"200\" result=\"true\">\n    <assign:variable>\n      <name>PMUSER_IPA_STATUS</name>\n      <value>true</value>\n    </assign:variable>\n    <match:regex flags=\"so\" impl=\"re2\" strict-err-check-re2=\"on\"  regex=\"(.*)\" select=\"IPA_RESPONSE_BODY\" variable-list=\"ORIGIN_RESPONSE_BODY\">\n      <assign:variable>\n        <name>NS_GOOD_RESPONSE_BODY</name>\n        <value>YES</value>\n        <sensitive>off</sensitive>\n      </assign:variable>\n    </match:regex>\n  </match:response.status>\n  \n  <match:response.status value=\"200\" result=\"false\">\n    <assign:variable>\n      <name>PMUSER_IPA_STATUS</name>\n      <value>false</value>\n    </assign:variable>\n  </match:response.status>\n</match:processing-agent-response>"
                                },
                                "uuid": "4bc50f2b-cfa1-4619-b6bf-0f8be7d9e6ee"
                            }
                        ],
                        "uuid": "cca46e3d-4a48-4e07-a786-3af64f4c7cec",
                        "criteria": [],
                        "criteriaMustSatisfy": "all"
                    },
                    {
                        "name": "Process Response Body",
                        "children": [],
                        "behaviors": [
                            {
                                "name": "advanced",
                                "options": {
                                    "description": "",
                                    "xml": "<assign:variable>  \n      <name>PMUSER_NS_RESPONSE_BODY</name>  \n      <value>%(ORIGIN_RESPONSE_BODY)</value>  \n</assign:variable>"
                                },
                                "uuid": "63bb9b05-0f7b-4af8-a880-f8fb41101dd3"
                            }
                        ],
                        "uuid": "36a360e3-10ff-49d0-af54-46f900934afb",
                        "criteria": [
                            {
                                "name": "metadataStage",
                                "options": {
                                    "matchOperator": "IS",
                                    "value": "ipa-response"
                                }
                            },
                            {
                                "name": "matchVariable",
                                "options": {
                                    "variableName": "PMUSER_IPA_STATUS",
                                    "matchOperator": "IS",
                                    "matchWildcard": false,
                                    "matchCaseSensitive": true,
                                    "variableExpression": "true"
                                }
                            }
                        ],
                        "criteriaMustSatisfy": "all"
                    }
                ],
                "behaviors": [],
                "criteria": [
                    {
                        "name": "queryStringParameter",
                        "options": {
                            "parameterName": "enableIPA",
                            "matchOperator": "IS_ONE_OF",
                            "values": [
                                "true"
                            ],
                            "matchWildcardName": false,
                            "matchCaseSensitiveName": true,
                            "matchWildcardValue": false,
                            "matchCaseSensitiveValue": true,
                            "escapeValue": false
                        }
                    }
                ],
                "criteriaMustSatisfy": "all",
                "uuid": "d602f840-6044-4238-9a31-1f92451cdcfa"
            },
            {
                "name": "JWT Validation",
                "children": [],
                "behaviors": [
                    {
                        "name": "advanced",
                        "options": {
                            "description": "Metadata to validate and extract values from JWT.",
                            "xml": "<!-- JWT extraction from header X-API-KEY -->\n<assign:extract-value>\n    <variable-name>X_API_KEY</variable-name>\n    <location>Client_Request_Header</location>\n    <location-id>X-API-KEY</location-id>\n</assign:extract-value>\n\n<!-- JWT definition 1 based on RS256 -->\n<edgeservices:jwt.definition>\n    <status>on</status>\n    <id>def1</id>\n\n    <claim>\n        <name>alg</name>\n        <header>on</header>\n        <value>RS256</value>\n    </claim>\n</edgeservices:jwt.definition>\n\n<!-- JWT definition 2 (for 2nd key) based on RS256 -->\n<edgeservices:jwt.definition>\n    <status>on</status>\n    <id>def2</id>\n\n    <claim>\n        <name>alg</name>\n        <header>on</header>\n        <value>RS256</value>\n    </claim>\n</edgeservices:jwt.definition>\n\n<!-- First public key definition. Generate with commands: \n    $ ssh-keygen -t rsa -b 2048 -m PEM -f jwt_key_1.key\n    $ openssl rsa -in jwt_key_1.key -pubout -outform PEM -out jwt_key_1.key.pub -->\n<edgeservices:jwt.key-definition>\n    <id>key1</id>\n    <value>-----BEGIN PUBLIC KEY-----\n        MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAx4IkplJGw+hVYclvXnVh\n        GHKoyPTHTAgJuS/lFgmckwco4LglWG2auy0/dnEH+bOxp0qbbtErWoTtYs1DZA/N\n        3kYNS6Kq5T5o57zuIYaFzh4Xsozc+8ISA6ygUbPZIDfZ7P2EEn6Cm9rrXVo2Y1KT\n        BoUzAac7/ux0KO2Ze4cpbWwDk7NbIBx0yQCz7DMlg7hoiqNKLoz2XtXwGMdYNT3n\n        FLSf56XdMmHk69rtsPx/9/D2xGM6qI23tCCSwFq9facs9j7mN37MEoj38o1UAHbb\n        2S7T2L0i6dU8OTj4RUszKzEQz0GdDUV+k9teUnGIn4u9t4l/eD+v00ykpHmfagE7\n        KwIDAQAB\n        -----END PUBLIC KEY-----</value>\n</edgeservices:jwt.key-definition>\n\n<!-- Second public key definition. -->\n<edgeservices:jwt.key-definition>\n    <id>key2</id>\n    <value>-----BEGIN PUBLIC KEY-----\n        MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEApPP+M2ZXE87Y3Kkuea4t\n        MStoNDjaLM73Io2OCptIGJOBm0Sg/1O0l1dxbcvn9s6Mq/hlzLKtA1Y6V1yC5X+E\n        lvacxl3TncGUjSNNo1YSSggO3WDje+pqfMqWSR+k1H8R/tNt8PH9p2wS9NDR4PXK\n        F/d1Gb6QwJ/aQ3clQkvGRybYHPCnXLmcoXkS5YyxFthnwgqvl0+NvVCrEH9K8zgL\n        uHEO5Pk4FnDVmQ/TSiuYgMOVjZhMsWldSmE5RuwVi7igpW93S5jsxTmOAekNpq3n\n        92rMYLlpls42oxlbUSgKJZrVHMM+N0SLj8svF7kY4JrtI8AnKhAOF9tX1yS5h6v4\n        1wIDAQAB\n        -----END PUBLIC KEY-----</value>\n</edgeservices:jwt.key-definition>\n\n<!-- First JWT validation with first public key definition -->\n<match:jwt.validate token=\"%(X_API_KEY)\" result=\"false\" def-id=\"def1\" key-id=\"key1\" reason=\"JWT_REASON\">\n    <assign:variable>\n        <name>JWT_KEY_1_INVALID</name>\n        <value>true</value>\n    </assign:variable>\n</match:jwt.validate>\n\n<!-- Second/Backup JWT validation with first public key definition -->\n<match:variable name=\"JWT_REASON\" value=\"invalid_signature\">\n    <match:jwt.validate token=\"%(X_API_KEY)\" result=\"false\" def-id=\"def2\" key-id=\"key2\" reason=\"JWT_REASON\">\n        <assign:variable>\n            <name>JWT_KEY_2_INVALID</name>\n            <value>true</value>\n        </assign:variable>\n        <auth:acl.deny>%(JWT_REASON)</auth:acl.deny>\n    </match:jwt.validate>\n</match:variable>\n\n<!-- Forward some headers to the client based on extracted claims from the JWT -->\n<edgeservices:modify-outgoing-response.add-header>\n    <name>JWT_IAT</name>\n    <value>%(JWT_IAT)</value>\n</edgeservices:modify-outgoing-response.add-header>\n\n<edgeservices:modify-outgoing-response.add-header>\n    <name>JWT_AUD</name>\n    <value>%(JWT_AUD)</value>\n</edgeservices:modify-outgoing-response.add-header>"
                        },
                        "uuid": "beb11865-36c1-4b00-bbcb-c1d9a9dc33e9"
                    }
                ],
                "uuid": "063bafd9-1500-4ff1-88fc-ec2e0298b7bb",
                "criteria": [
                    {
                        "name": "queryStringParameter",
                        "options": {
                            "parameterName": "jwtvalidation",
                            "matchOperator": "IS_ONE_OF",
                            "values": [
                                "true"
                            ],
                            "matchWildcardName": false,
                            "matchCaseSensitiveName": true,
                            "matchWildcardValue": false,
                            "matchCaseSensitiveValue": true,
                            "escapeValue": false
                        }
                    }
                ],
                "criteriaMustSatisfy": "all"
            },
            {
                "name": "Git.io Origin",
                "children": [],
                "behaviors": [
                    {
                        "name": "origin",
                        "options": {
                            "originType": "CUSTOMER",
                            "hostname": "jaescalo.github.io",
                            "forwardHostHeader": "ORIGIN_HOSTNAME",
                            "cacheKeyHostname": "ORIGIN_HOSTNAME",
                            "compress": true,
                            "enableTrueClientIp": true,
                            "originCertificate": "",
                            "verificationMode": "CUSTOM",
                            "ports": "",
                            "httpPort": 80,
                            "httpsPort": 443,
                            "trueClientIpHeader": "True-Client-IP",
                            "trueClientIpClientSetting": false,
                            "originSni": true,
                            "customValidCnValues": [
                                "{{Origin Hostname}}",
                                "{{Forward Host Header}}",
                                "www.github.com"
                            ],
                            "originCertsToHonor": "COMBO",
                            "standardCertificateAuthorities": [
                                "akamai-permissive"
                            ],
                            "customCertificateAuthorities": [
                                {
                                    "subjectCN": "DigiCert SHA2 High Assurance Server CA",
                                    "subjectAlternativeNames": [],
                                    "subjectRDNs": {
                                        "C": "US",
                                        "OU": "www.digicert.com",
                                        "CN": "DigiCert SHA2 High Assurance Server CA",
                                        "O": "DigiCert Inc"
                                    },
                                    "issuerRDNs": {
                                        "C": "US",
                                        "OU": "www.digicert.com",
                                        "CN": "DigiCert High Assurance EV Root CA",
                                        "O": "DigiCert Inc"
                                    },
                                    "notBefore": 1382443200000,
                                    "notAfter": 1855828800000,
                                    "sigAlgName": "SHA256withRSA",
                                    "publicKey": "MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAtuAvwiQGyG0EX9fvCmQGsn0iJmUWrkJAm87cn592Bz7DMFWHGblPlA5alB9VVrTCAiqv0JjuC0DXxNA7csgUnu+QsRGprtLIuEM62QsL1dWV9UCvyB3tTZxfV7eGUGiZ9Yra0scFH6iXydyksYKELcatpZzHGYKmhQ9eRFgqN4/9NfELCCcyWvW7i56kvVHQJ+LdO0IzowUoxLsozJqsKyMNeMZ75l5xt0o+CPuBtxYWoZ0jEk3l15IIrHWknLrNF7IeRDVlf1MlOdEcCppjGxmSdGgKN8LCUkjLOVqituFdwd2gILghopMmbxRKIUHH7W2b8kgv8wP1omiSUy9e4wIDAQAB",
                                    "publicKeyAlgorithm": "RSA",
                                    "publicKeyFormat": "X.509",
                                    "serialNumber": "6489877074546166222510380951761917343",
                                    "version": 3,
                                    "sha1Fingerprint": "a031c46782e6e6c662c2c87c76da9aa62ccabd8e",
                                    "pemEncodedCert": "-----BEGIN CERTIFICATE-----\nMIIEsTCCA5mgAwIBAgIQBOHnpNxc8vNtwCtCuF0VnzANBgkqhkiG9w0BAQsFADBs\nMQswCQYDVQQGEwJVUzEVMBMGA1UEChMMRGlnaUNlcnQgSW5jMRkwFwYDVQQLExB3\nd3cuZGlnaWNlcnQuY29tMSswKQYDVQQDEyJEaWdpQ2VydCBIaWdoIEFzc3VyYW5j\nZSBFViBSb290IENBMB4XDTEzMTAyMjEyMDAwMFoXDTI4MTAyMjEyMDAwMFowcDEL\nMAkGA1UEBhMCVVMxFTATBgNVBAoTDERpZ2lDZXJ0IEluYzEZMBcGA1UECxMQd3d3\nLmRpZ2ljZXJ0LmNvbTEvMC0GA1UEAxMmRGlnaUNlcnQgU0hBMiBIaWdoIEFzc3Vy\nYW5jZSBTZXJ2ZXIgQ0EwggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQC2\n4C/CJAbIbQRf1+8KZAayfSImZRauQkCbztyfn3YHPsMwVYcZuU+UDlqUH1VWtMIC\nKq/QmO4LQNfE0DtyyBSe75CxEamu0si4QzrZCwvV1ZX1QK/IHe1NnF9Xt4ZQaJn1\nitrSxwUfqJfJ3KSxgoQtxq2lnMcZgqaFD15EWCo3j/018QsIJzJa9buLnqS9UdAn\n4t07QjOjBSjEuyjMmqwrIw14xnvmXnG3Sj4I+4G3FhahnSMSTeXXkgisdaScus0X\nsh5ENWV/UyU50RwKmmMbGZJ0aAo3wsJSSMs5WqK24V3B3aAguCGikyZvFEohQcft\nbZvySC/zA/WiaJJTL17jAgMBAAGjggFJMIIBRTASBgNVHRMBAf8ECDAGAQH/AgEA\nMA4GA1UdDwEB/wQEAwIBhjAdBgNVHSUEFjAUBggrBgEFBQcDAQYIKwYBBQUHAwIw\nNAYIKwYBBQUHAQEEKDAmMCQGCCsGAQUFBzABhhhodHRwOi8vb2NzcC5kaWdpY2Vy\ndC5jb20wSwYDVR0fBEQwQjBAoD6gPIY6aHR0cDovL2NybDQuZGlnaWNlcnQuY29t\nL0RpZ2lDZXJ0SGlnaEFzc3VyYW5jZUVWUm9vdENBLmNybDA9BgNVHSAENjA0MDIG\nBFUdIAAwKjAoBggrBgEFBQcCARYcaHR0cHM6Ly93d3cuZGlnaWNlcnQuY29tL0NQ\nUzAdBgNVHQ4EFgQUUWj/kK8CB3U8zNllZGKiErhZcjswHwYDVR0jBBgwFoAUsT7D\naQP4v0cB1JgmGggC72NkK8MwDQYJKoZIhvcNAQELBQADggEBABiKlYkD5m3fXPwd\naOpKj4PWUS+Na0QWnqxj9dJubISZi6qBcYRb7TROsLd5kinMLYBq8I4g4Xmk/gNH\nE+r1hspZcX30BJZr01lYPf7TMSVcGDiEo+afgv2MW5gxTs14nhr9hctJqvIni5ly\n/D6q1UEL2tU2ob8cbkdJf17ZSHwD2f2LSaCYJkJA69aSEaRkCldUxPUd1gJea6zu\nxICaEnL6VpPX/78whQYwvwt/Tv9XBZ0k7YXDK/umdaisLRbvfXknsuvCnQsH6qqF\n0wGjIChBWUMo0oHjqvbsezt3tkBigAVBRQHvFwY+3sAzm2fTYS5yh+Rp/BIAV0Ae\ncPUeybQ=\n-----END CERTIFICATE-----\n",
                                    "canBeLeaf": true,
                                    "canBeCA": true,
                                    "selfSigned": false
                                }
                            ],
                            "customCertificates": []
                        }
                    },
                    {
                        "name": "rewriteUrl",
                        "options": {
                            "behavior": "REWRITE",
                            "targetUrl": "/"
                        }
                    },
                    {
                        "name": "baseDirectory",
                        "options": {
                            "value": "/"
                        }
                    }
                ],
                "criteria": [
                    {
                        "name": "path",
                        "options": {
                            "matchOperator": "MATCHES_ONE_OF",
                            "values": [
                                "/git*"
                            ],
                            "matchCaseSensitive": false,
                            "normalize": false
                        }
                    },
                    {
                        "name": "filename",
                        "options": {
                            "matchOperator": "IS_ONE_OF",
                            "values": [
                                "eddie.jpg"
                            ],
                            "matchCaseSensitive": true
                        }
                    }
                ],
                "criteriaMustSatisfy": "any"
            },
            {
                "name": "My Origin",
                "children": [],
                "behaviors": [
                    {
                        "name": "origin",
                        "options": {
                            "originType": "CUSTOMER",
                            "hostname": "mkprds-2020.moukcr.com",
                            "forwardHostHeader": "ORIGIN_HOSTNAME",
                            "cacheKeyHostname": "ORIGIN_HOSTNAME",
                            "compress": true,
                            "enableTrueClientIp": true,
                            "originCertificate": "",
                            "verificationMode": "CUSTOM",
                            "ports": "",
                            "httpPort": 80,
                            "httpsPort": 443,
                            "trueClientIpHeader": "True-Client-IP",
                            "trueClientIpClientSetting": false,
                            "originSni": true,
                            "customValidCnValues": [
                                "{{Origin Hostname}}",
                                "{{Forward Host Header}}"
                            ],
                            "originCertsToHonor": "COMBO",
                            "standardCertificateAuthorities": [
                                "akamai-permissive"
                            ],
                            "customCertificateAuthorities": [
                                {
                                    "subjectCN": "R3",
                                    "subjectAlternativeNames": [],
                                    "subjectRDNs": {
                                        "C": "US",
                                        "CN": "R3",
                                        "O": "Let's Encrypt"
                                    },
                                    "issuerRDNs": {
                                        "C": "US",
                                        "CN": "ISRG Root X1",
                                        "O": "Internet Security Research Group"
                                    },
                                    "notBefore": 1599177600000,
                                    "notAfter": 1757952000000,
                                    "sigAlgName": "SHA256withRSA",
                                    "publicKey": "MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAuwIVKMz2oJTTDxLsjVWSw/iC8ZmmekKIp10mqrUrucVMsa+Oa/l1yKPXD0eUFFU1V4yeqKI5GfWCPEKpTm71O8Mu243AsFzzWTjn7c9p8FoLG77AlCQlh/o3cbMT5xys4Zvv2+Q7RVJFlqnBU840yFLuta7tj95gcOKlVKu2bQ6XpUA0ayvTvGbrZjR8+muLj1cpmfgwF126cm/7gcWt0oZYPRfH5wm78Sv3htzB2nFd1EbjzK0lwYi8YGd1ZrPxGPeiXOZT/zqItkel/xMY6pgJdz+dU/nPAeX1pnAXFK9jpP+Zs5Od3FOnBv5IhR2haa4ldbsTzFID9e1RoYvbFQIDAQAB",
                                    "publicKeyAlgorithm": "RSA",
                                    "publicKeyFormat": "X.509",
                                    "serialNumber": "192961496339968674994309121183282847578",
                                    "version": 3,
                                    "sha1Fingerprint": "a053375bfe84e8b748782c7cee15827a6af5a405",
                                    "pemEncodedCert": "-----BEGIN CERTIFICATE-----\nMIIFFjCCAv6gAwIBAgIRAJErCErPDBinU/bWLiWnX1owDQYJKoZIhvcNAQELBQAw\nTzELMAkGA1UEBhMCVVMxKTAnBgNVBAoTIEludGVybmV0IFNlY3VyaXR5IFJlc2Vh\ncmNoIEdyb3VwMRUwEwYDVQQDEwxJU1JHIFJvb3QgWDEwHhcNMjAwOTA0MDAwMDAw\nWhcNMjUwOTE1MTYwMDAwWjAyMQswCQYDVQQGEwJVUzEWMBQGA1UEChMNTGV0J3Mg\nRW5jcnlwdDELMAkGA1UEAxMCUjMwggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEK\nAoIBAQC7AhUozPaglNMPEuyNVZLD+ILxmaZ6QoinXSaqtSu5xUyxr45r+XXIo9cP\nR5QUVTVXjJ6oojkZ9YI8QqlObvU7wy7bjcCwXPNZOOftz2nwWgsbvsCUJCWH+jdx\nsxPnHKzhm+/b5DtFUkWWqcFTzjTIUu61ru2P3mBw4qVUq7ZtDpelQDRrK9O8Zutm\nNHz6a4uPVymZ+DAXXbpyb/uBxa3Shlg9F8fnCbvxK/eG3MHacV3URuPMrSXBiLxg\nZ3Vms/EY96Jc5lP/Ooi2R6X/ExjqmAl3P51T+c8B5fWmcBcUr2Ok/5mzk53cU6cG\n/kiFHaFpriV1uxPMUgP17VGhi9sVAgMBAAGjggEIMIIBBDAOBgNVHQ8BAf8EBAMC\nAYYwHQYDVR0lBBYwFAYIKwYBBQUHAwIGCCsGAQUFBwMBMBIGA1UdEwEB/wQIMAYB\nAf8CAQAwHQYDVR0OBBYEFBQusxe3WFbLrlAJQOYfr52LFMLGMB8GA1UdIwQYMBaA\nFHm0WeZ7tuXkAXOACIjIGlj26ZtuMDIGCCsGAQUFBwEBBCYwJDAiBggrBgEFBQcw\nAoYWaHR0cDovL3gxLmkubGVuY3Iub3JnLzAnBgNVHR8EIDAeMBygGqAYhhZodHRw\nOi8veDEuYy5sZW5jci5vcmcvMCIGA1UdIAQbMBkwCAYGZ4EMAQIBMA0GCysGAQQB\ngt8TAQEBMA0GCSqGSIb3DQEBCwUAA4ICAQCFyk5HPqP3hUSFvNVneLKYY611TR6W\nPTNlclQtgaDqw+34IL9fzLdwALduO/ZelN7kIJ+m74uyA+eitRY8kc607TkC53wl\nikfmZW4/RvTZ8M6UK+5UzhK8jCdLuMGYL6KvzXGRSgi3yLgjewQtCPkIVz6D2QQz\nCkcheAmCJ8MqyJu5zlzyZMjAvnnAT45tRAxekrsu94sQ4egdRCnbWSDtY7kh+BIm\nlJNXoB1lBMEKIq4QDUOXoRgffuDghje1WrG9ML+Hbisq/yFOGwXD9RiX8F6sw6W4\navAuvDszue5L3sz85K+EC4Y/wFVDNvZo4TYXao6Z0f+lQKc0t8DQYzk1OXVu8rp2\nyJMC6alLbBfODALZvYH7n7do1AZls4I9d1P4jnkDrQoxB3UqQ9hVl3LEKQ73xF1O\nyK5GhDDX8oVfGKF5u+decIsH4YaTw7mP3GFxJSqv3+0lUFJoi5Lc5da149p90Ids\nhCExroL1+7mryIkXPeFM5TgO9r0rvZaBFOvV2z0gp35Z0+L4WPlbuEjN/lxPFin+\nHlUjr8gRsI3qfJOQFy/9rKIJR0Y/8Omwt/8oTWgy1mdeHmmjk7j1nYsvC9JSQ6Zv\nMldlTTKB3zhThV1+XWYp6rjd5JW1zbVWEkLNxE7GJThEUG3szgBVGP7pSWTUTsqX\nnLRbwHOoq7hHwg==\n-----END CERTIFICATE-----\n",
                                    "canBeLeaf": true,
                                    "canBeCA": true,
                                    "selfSigned": false
                                },
                                {
                                    "subjectCN": "ISRG Root X1",
                                    "subjectAlternativeNames": [],
                                    "subjectRDNs": {
                                        "C": "US",
                                        "CN": "ISRG Root X1",
                                        "O": "Internet Security Research Group"
                                    },
                                    "issuerRDNs": {
                                        "CN": "DST Root CA X3",
                                        "O": "Digital Signature Trust Co."
                                    },
                                    "notBefore": 1611170043000,
                                    "notAfter": 1727720043000,
                                    "sigAlgName": "SHA256withRSA",
                                    "publicKey": "MIICIjANBgkqhkiG9w0BAQEFAAOCAg8AMIICCgKCAgEAregkc/QUN/ObnitXKByHvty33ziQjG485legePd1wqL+9Wpu9gBPKNveaIZsRJO2sWP9FBJrvx/S6jGbIX7RMzy6SPXded+zuP8S8SGaS8GKhnFpSmZmbI9+PHC/rSkiBvPkwOaAruJLj7eZfpQDn9NHl3yZSCNT6DiuTwpvgy7RSVeMgHS22i/QOI17A3AhG3XyMDz6j67d2mOr6xZPwo4RS37PC+j/tXcu9LJ7SuBMEiUMcI0DKaDhUyTsE9nuGb8Qs0qMP4mjYVHerIcHlPRjcewu4m9bmIHhiVw0eWx27zuQYnnm26SaLybF0BDhDt7ZEI4W+7f3qPfH5QIHmI82CJXn4jeWDTZ1nvsOcrEdm7wD+UkF2IHdBbQq1kHprAF2lQoP2N/VvRIfNS8oF2zSmMGoCWR3bkc3us6sWV5onX9y1onFBkEpPlk+3Sb1JMkRp1qjTEAfRqGZtac6UW6GO559cqcSBXhZ7T5ReBULA4+N0C8Fsj57ShxLcwUS/Mbq4FATfEOTdLPKdOeOHwEI0DDUW3E2tAe6wTAwXEi3gjuYpn1giqKjKYLMur2DBBuigwNBodYF8RvCtvCofIY7RqhIKojcdpp2vx9qpT0Zj+s482TeyCsNCij/99viFULUItAnXeF5/hjncIitTubZizrG3SdRbv+8ZPUzQ08CAwEAAQ==",
                                    "publicKeyAlgorithm": "RSA",
                                    "publicKeyFormat": "X.509",
                                    "serialNumber": "85078200265644417569109389142156118711",
                                    "version": 3,
                                    "sha1Fingerprint": "933c6ddee95c9c41a40f9f50493d82be03ad87bf",
                                    "pemEncodedCert": "-----BEGIN CERTIFICATE-----\nMIIFYDCCBEigAwIBAgIQQAF3ITfU6UK47naqPGQKtzANBgkqhkiG9w0BAQsFADA/\nMSQwIgYDVQQKExtEaWdpdGFsIFNpZ25hdHVyZSBUcnVzdCBDby4xFzAVBgNVBAMT\nDkRTVCBSb290IENBIFgzMB4XDTIxMDEyMDE5MTQwM1oXDTI0MDkzMDE4MTQwM1ow\nTzELMAkGA1UEBhMCVVMxKTAnBgNVBAoTIEludGVybmV0IFNlY3VyaXR5IFJlc2Vh\ncmNoIEdyb3VwMRUwEwYDVQQDEwxJU1JHIFJvb3QgWDEwggIiMA0GCSqGSIb3DQEB\nAQUAA4ICDwAwggIKAoICAQCt6CRz9BQ385ueK1coHIe+3LffOJCMbjzmV6B493XC\nov71am72AE8o295ohmxEk7axY/0UEmu/H9LqMZshftEzPLpI9d1537O4/xLxIZpL\nwYqGcWlKZmZsj348cL+tKSIG8+TA5oCu4kuPt5l+lAOf00eXfJlII1PoOK5PCm+D\nLtFJV4yAdLbaL9A4jXsDcCEbdfIwPPqPrt3aY6vrFk/CjhFLfs8L6P+1dy70sntK\n4EwSJQxwjQMpoOFTJOwT2e4ZvxCzSow/iaNhUd6shweU9GNx7C7ib1uYgeGJXDR5\nbHbvO5BieebbpJovJsXQEOEO3tkQjhb7t/eo98flAgeYjzYIlefiN5YNNnWe+w5y\nsR2bvAP5SQXYgd0FtCrWQemsAXaVCg/Y39W9Eh81LygXbNKYwagJZHduRze6zqxZ\nXmidf3LWicUGQSk+WT7dJvUkyRGnWqNMQB9GoZm1pzpRboY7nn1ypxIFeFntPlF4\nFQsDj43QLwWyPntKHEtzBRL8xurgUBN8Q5N0s8p0544fAQjQMNRbcTa0B7rBMDBc\nSLeCO5imfWCKoqMpgsy6vYMEG6KDA0Gh1gXxG8K28Kh8hjtGqEgqiNx2mna/H2ql\nPRmP6zjzZN7IKw0KKP/32+IVQtQi0Cdd4Xn+GOdwiK1O5tmLOsbdJ1Fu/7xk9TND\nTwIDAQABo4IBRjCCAUIwDwYDVR0TAQH/BAUwAwEB/zAOBgNVHQ8BAf8EBAMCAQYw\nSwYIKwYBBQUHAQEEPzA9MDsGCCsGAQUFBzAChi9odHRwOi8vYXBwcy5pZGVudHJ1\nc3QuY29tL3Jvb3RzL2RzdHJvb3RjYXgzLnA3YzAfBgNVHSMEGDAWgBTEp7Gkeyxx\n+tvhS5B1/8QVYIWJEDBUBgNVHSAETTBLMAgGBmeBDAECATA/BgsrBgEEAYLfEwEB\nATAwMC4GCCsGAQUFBwIBFiJodHRwOi8vY3BzLnJvb3QteDEubGV0c2VuY3J5cHQu\nb3JnMDwGA1UdHwQ1MDMwMaAvoC2GK2h0dHA6Ly9jcmwuaWRlbnRydXN0LmNvbS9E\nU1RST09UQ0FYM0NSTC5jcmwwHQYDVR0OBBYEFHm0WeZ7tuXkAXOACIjIGlj26Ztu\nMA0GCSqGSIb3DQEBCwUAA4IBAQAKcwBslm7/DlLQrt2M51oGrS+o44+/yQoDFVDC\n5WxCu2+b9LRPwkSICHXM6webFGJueN7sJ7o5XPWioW5WlHAQU7G75K/QosMrAdSW\n9MUgNTP52GE24HGNtLi1qoJFlcDyqSMo59ahy2cI2qBDLKobkx/J3vWraV0T9VuG\nWCLKTVXkcGdtwlfFRjlBz4pYg1htmf5X6DYO8A4jqv2Il9DjXA6USbW1FzXSLr9O\nhe8Y4IWS6wY7bCkjCWDcRQJMEhg76fsO3txE+FiYruq9RUWhiF1myv4Q6W+CyBFC\nDfvp7OOGAN6dEOM4+qR9sdjoSYKEBpsr6GtPAQw4dy753ec5\n-----END CERTIFICATE-----\n",
                                    "canBeLeaf": false,
                                    "canBeCA": true,
                                    "selfSigned": false
                                }
                            ],
                            "customCertificates": [
                                {
                                    "subjectCN": "mkprds-2020.moukcr.com",
                                    "subjectAlternativeNames": [
                                        "mkprds-2020.moukcr.com"
                                    ],
                                    "subjectRDNs": {
                                        "CN": "mkprds-2020.moukcr.com"
                                    },
                                    "issuerRDNs": {
                                        "C": "US",
                                        "CN": "R3",
                                        "O": "Let's Encrypt"
                                    },
                                    "notBefore": 1636743422000,
                                    "notAfter": 1644519421000,
                                    "sigAlgName": "SHA256withRSA",
                                    "publicKey": "MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAvplCCMVdoff4UKg8jVs3pOz/jMs2lTREZQ72T4trq6GwM1SY3xG9IoGYmbKKCVfKeT4YCQsfuzCU3zor6LMS6Pv1ejH1IBwx8DjOiAP0DE4rn3GtEM+FREJ7Md+bZSib/J8kB0wscza+KeEgYvUssPqqY+mjNLQ4MtdCRkv0ROWIM44WxA6F9QHPU9OXbonoNevUhKssz1bI7D9FnGINS1V3rwPlrkcAjlsIdTPP6U/66PEDIzOi9YhR6nLLlhz8/p31Eaj1pytdgec562Cz5U/nGM6MUnrxEeP0mv1NNY1KxXaP9PR0hv8G2JkVlnXaXMP/dH8v9ue77bm7j+9qNwIDAQAB",
                                    "publicKeyAlgorithm": "RSA",
                                    "publicKeyFormat": "X.509",
                                    "serialNumber": "332903201360085159009154138376634057066777",
                                    "version": 3,
                                    "sha1Fingerprint": "21346247bf2d47e2a3e345fa9e9306c5c479ea59",
                                    "pemEncodedCert": "-----BEGIN CERTIFICATE-----\nMIIFMzCCBBugAwIBAgISA9JQiGh+O5WbUmBFyFxS94kZMA0GCSqGSIb3DQEBCwUA\nMDIxCzAJBgNVBAYTAlVTMRYwFAYDVQQKEw1MZXQncyBFbmNyeXB0MQswCQYDVQQD\nEwJSMzAeFw0yMTExMTIxODU3MDJaFw0yMjAyMTAxODU3MDFaMCExHzAdBgNVBAMT\nFm1rcHJkcy0yMDIwLm1vdWtjci5jb20wggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAw\nggEKAoIBAQC+mUIIxV2h9/hQqDyNWzek7P+MyzaVNERlDvZPi2urobAzVJjfEb0i\ngZiZsooJV8p5PhgJCx+7MJTfOivosxLo+/V6MfUgHDHwOM6IA/QMTiufca0Qz4VE\nQnsx35tlKJv8nyQHTCxzNr4p4SBi9Syw+qpj6aM0tDgy10JGS/RE5YgzjhbEDoX1\nAc9T05duieg169SEqyzPVsjsP0WcYg1LVXevA+WuRwCOWwh1M8/pT/ro8QMjM6L1\niFHqcsuWHPz+nfURqPWnK12B5znrYLPlT+cYzoxSevER4/Sa/U01jUrFdo/09HSG\n/wbYmRWWddpcw/90fy/257vtubuP72o3AgMBAAGjggJSMIICTjAOBgNVHQ8BAf8E\nBAMCBaAwHQYDVR0lBBYwFAYIKwYBBQUHAwEGCCsGAQUFBwMCMAwGA1UdEwEB/wQC\nMAAwHQYDVR0OBBYEFDTjfi86vVCStJcAguZcRttf1Z71MB8GA1UdIwQYMBaAFBQu\nsxe3WFbLrlAJQOYfr52LFMLGMFUGCCsGAQUFBwEBBEkwRzAhBggrBgEFBQcwAYYV\naHR0cDovL3IzLm8ubGVuY3Iub3JnMCIGCCsGAQUFBzAChhZodHRwOi8vcjMuaS5s\nZW5jci5vcmcvMCEGA1UdEQQaMBiCFm1rcHJkcy0yMDIwLm1vdWtjci5jb20wTAYD\nVR0gBEUwQzAIBgZngQwBAgEwNwYLKwYBBAGC3xMBAQEwKDAmBggrBgEFBQcCARYa\naHR0cDovL2Nwcy5sZXRzZW5jcnlwdC5vcmcwggEFBgorBgEEAdZ5AgQCBIH2BIHz\nAPEAdwApeb7wnjk5IfBWc59jpXflvld9nGAK+PlNXSZcJV3HhAAAAX0VuZHQAAAE\nAwBIMEYCIQCDIINu7VRTUUgd7f1rbCfAwZRwUSLpvlDzDlw4xnLXLwIhAKyZHRoi\nnWgpd8JiCkSnFEziwFjcDXNWGV/4ZBCHnb1jAHYA36Veq2iCTx9sre64X04+WurN\nohKkal6OOxLAIERcKnMAAAF9FbmT0QAABAMARzBFAiB9BP/uQjngxDVDMX2CRisr\n3c2y/FmOP2uNQJY2RXfNngIhAKfYn3KpIZ7nN0O4DB6Qa8FSltJkedsyFhtMKEuX\nIMe3MA0GCSqGSIb3DQEBCwUAA4IBAQAFb3zNEVJUypmlDy4BFKnxvCXC1FfFMKHE\nixLKCvKxrUuuleqpApdFKIQNNqWh4paRQCVwIIR9iYLFn0LcctPlfkzGiBY603E0\nfBMxUUfuYM/j3HJ0+ugVy4tQhNwsUFPPMbNE5RKoovhlF43tWdyrm/VT6gTmIwhx\np+mOTEXgu1kGneA5NzHigI7l85pJqhSGNJugISo8v8xK0hRkTkrfPLKGhhm1j3no\nkNjMMi6Wm+4Oa0Hjaso/lLpOe/pb4mcRmqxOETRmMqSNaZTHmFyKz5nfhXDp5W+9\neuDPpjtdLa+nCaNwCW6x4H5+oN9Sz4o4CgD7JVvMpt4yxAvLiKGA\n-----END CERTIFICATE-----\n",
                                    "canBeLeaf": true,
                                    "canBeCA": false,
                                    "selfSigned": false
                                }
                            ]
                        }
                    },
                    {
                        "name": "rewriteUrl",
                        "options": {
                            "behavior": "REWRITE",
                            "targetUrl": "/"
                        }
                    },
                    {
                        "name": "baseDirectory",
                        "options": {
                            "value": "/"
                        }
                    }
                ],
                "criteria": [
                    {
                        "name": "path",
                        "options": {
                            "matchOperator": "MATCHES_ONE_OF",
                            "values": [
                                "/mouk*",
                                "/icons/apache_pb2.gif"
                            ],
                            "matchCaseSensitive": false,
                            "normalize": false
                        }
                    }
                ],
                "criteriaMustSatisfy": "all"
            },
            {
                "name": "EdgeWorkers",
                "children": [],
                "behaviors": [
                    {
                        "name": "edgeWorker",
                        "options": {
                            "enabled": true,
                            "createEdgeWorker": "",
                            "edgeWorkerId": "4885",
                            "resourceTier": ""
                        }
                    }
                ],
                "criteria": [
                    {
                        "name": "path",
                        "options": {
                            "matchOperator": "MATCHES_ONE_OF",
                            "values": [
                                "/helloworld*",
                                "/json-inline-demo",
                                "/ak-ref-id",
                                "/reporting-api",
                                "/demo-site"
                            ],
                            "matchCaseSensitive": false,
                            "normalize": false
                        }
                    },
                    {
                        "name": "hostname",
                        "options": {
                            "matchOperator": "IS_ONE_OF",
                            "values": [
                                "failover-jaescalo.test.edgekey.net"
                            ]
                        }
                    }
                ],
                "criteriaMustSatisfy": "any"
            },
            {
                "name": "CORS",
                "children": [],
                "behaviors": [
                    {
                        "name": "corsSupport",
                        "options": {
                            "enabled": true,
                            "allowOrigins": "ANY",
                            "allowCredentials": false,
                            "allowHeaders": "ANY",
                            "methods": [
                                "GET",
                                "POST"
                            ],
                            "exposeHeaders": [],
                            "preflightMaxAge": "600s"
                        }
                    }
                ],
                "criteria": [],
                "criteriaMustSatisfy": "all"
            },
            {
                "name": "Report-to",
                "children": [],
                "behaviors": [
                    {
                        "name": "modifyOutgoingResponseHeader",
                        "options": {
                            "action": "ADD",
                            "standardAddHeaderName": "OTHER",
                            "headerValue": "{\"max_age\":3600,\"endpoints\":[{\"url\":\"http://jaescalo.test.edgekey-staging.net/report/\"}],\"include_subdomains\":true}",
                            "customHeaderName": "Report-To"
                        }
                    },
                    {
                        "name": "modifyOutgoingResponseHeader",
                        "options": {
                            "action": "ADD",
                            "standardAddHeaderName": "OTHER",
                            "headerValue": "{\"report_to\":\"default\",\"max_age\":3600,\"include_subdomains\":true}",
                            "customHeaderName": "nel"
                        }
                    }
                ],
                "criteria": [],
                "criteriaMustSatisfy": "all"
            },
            {
                "name": "Caching",
                "children": [
                    {
                        "name": "Bypass Cache",
                        "children": [],
                        "behaviors": [
                            {
                                "name": "advanced",
                                "options": {
                                    "description": "Bypass Cache for Everything",
                                    "xml": "<cache:bypass>on</cache:bypass>"
                                },
                                "uuid": "43635c63-dbda-4f1e-a959-683d2b9fa178"
                            }
                        ],
                        "uuid": "136ed391-082a-43d7-9489-9d8e9011204f",
                        "criteria": [
                            {
                                "name": "queryStringParameter",
                                "options": {
                                    "parameterName": "bypasscache",
                                    "matchOperator": "IS_ONE_OF",
                                    "values": [
                                        "true"
                                    ],
                                    "matchWildcardName": false,
                                    "matchCaseSensitiveName": true,
                                    "matchWildcardValue": false,
                                    "matchCaseSensitiveValue": true,
                                    "escapeValue": false
                                }
                            }
                        ],
                        "criteriaMustSatisfy": "all"
                    },
                    {
                        "name": "Cache Tags",
                        "children": [],
                        "behaviors": [
                            {
                                "name": "cacheTag",
                                "options": {
                                    "tag": "demo"
                                }
                            }
                        ],
                        "criteria": [
                            {
                                "name": "path",
                                "options": {
                                    "matchOperator": "MATCHES_ONE_OF",
                                    "values": [
                                        "/demo-site/"
                                    ],
                                    "matchCaseSensitive": false,
                                    "normalize": false
                                }
                            }
                        ],
                        "criteriaMustSatisfy": "all"
                    }
                ],
                "behaviors": [],
                "criteria": [],
                "criteriaMustSatisfy": "all",
                "uuid": "262db581-5f71-473c-a2ef-ffa497b738f6"
            },
            {
                "name": "CORS New Path",
                "children": [],
                "behaviors": [
                    {
                        "name": "corsSupport",
                        "options": {
                            "enabled": true,
                            "allowOrigins": "ANY",
                            "allowCredentials": false,
                            "allowHeaders": "ANY",
                            "methods": [
                                "GET"
                            ],
                            "exposeHeaders": [],
                            "preflightMaxAge": "600s"
                        }
                    }
                ],
                "criteria": [
                    {
                        "name": "path",
                        "options": {
                            "matchOperator": "MATCHES_ONE_OF",
                            "values": [
                                "/newpath*"
                            ],
                            "matchCaseSensitive": false,
                            "normalize": false
                        }
                    }
                ],
                "criteriaMustSatisfy": "all"
            },
            {
                "name": "Conditional Origin Group",
                "children": [
                    {
                        "name": "Conditional Origin Definition",
                        "children": [],
                        "behaviors": [
                            {
                                "name": "origin",
                                "options": {
                                    "originType": "NET_STORAGE",
                                    "netStorage": {
                                        "downloadDomainName": "gsstrip.download.akamai.com",
                                        "cpCode": 405092,
                                        "g2oToken": "405092=6G96eY0RZK5O3Eb2xYVFzfzt8Pn8fZ37Cnv93266KVNB1U6VF1"
                                    }
                                }
                            },
                            {
                                "name": "caching",
                                "options": {
                                    "behavior": "MAX_AGE",
                                    "mustRevalidate": false,
                                    "ttl": "10m"
                                }
                            }
                        ],
                        "criteria": [
                            {
                                "name": "cloudletsOrigin",
                                "options": {
                                    "originId": "jaescalo-origin"
                                }
                            }
                        ],
                        "criteriaMustSatisfy": "all"
                    },
                    {
                        "name": "Conditional Origin Definition",
                        "children": [],
                        "behaviors": [
                            {
                                "name": "origin",
                                "options": {
                                    "originType": "NET_STORAGE",
                                    "netStorage": {
                                        "downloadDomainName": "gsstrip.download.akamai.com",
                                        "cpCode": 405093,
                                        "g2oToken": "405093=n2BbffT74VJ602gFQjyJnE6O1F3jzO66IkkG9Vs7d0NEosOtUw"
                                    }
                                }
                            },
                            {
                                "name": "caching",
                                "options": {
                                    "behavior": "MAX_AGE",
                                    "mustRevalidate": false,
                                    "ttl": "10m"
                                }
                            }
                        ],
                        "criteria": [
                            {
                                "name": "cloudletsOrigin",
                                "options": {
                                    "originId": "jaescalo-origin-2"
                                }
                            }
                        ],
                        "criteriaMustSatisfy": "all"
                    }
                ],
                "behaviors": [
                    {
                        "name": "allowCloudletsOrigins",
                        "options": {
                            "enabled": true,
                            "honorBaseDirectory": true,
                            "purgeOriginQueryParameter": "originId"
                        }
                    }
                ],
                "criteria": [],
                "criteriaMustSatisfy": "all"
            }
        ],
        "behaviors": [
            {
                "name": "origin",
                "options": {
                    "originType": "NET_STORAGE",
                    "netStorage": {
                        "downloadDomainName": "gsstrip.download.akamai.com",
                        "cpCode": 405092,
                        "g2oToken": "405092=6G96eY0RZK5O3Eb2xYVFzfzt8Pn8fZ37Cnv93266KVNB1U6VF1"
                    }
                }
            },
            {
                "name": "cpCode",
                "options": {
                    "value": {
                        "id": 407946
                    }
                }
            },
            {
                "name": "caching",
                "options": {
                    "behavior": "MAX_AGE",
                    "mustRevalidate": false,
                    "ttl": "10m"
                }
            },
            {
                "name": "cacheKeyQueryParams",
                "options": {
                    "behavior": "IGNORE_ALL"
                }
            },
            {
                "name": "baseDirectory",
                "options": {
                    "value": "/jaescalo/static-sites/"
                }
            },
            {
                "name": "allowPost",
                "options": {
                    "enabled": true,
                    "allowWithoutContentLength": true
                }
            },
            {
                "name": "allHttpInCacheHierarchy",
                "options": {
                    "enabled": true
                }
            },
            {
                "name": "globalRequestNumber",
                "options": {
                    "outputOption": "ASSIGN_VARIABLE",
                    "variableName": "PMUSER_GRN"
                }
            },
            {
                "name": "datastream",
                "options": {
                    "streamType": "BEACON_AND_LOG",
                    "enabled": true,
                    "beaconStreamTitle": "",
                    "datastreamIds": "2779",
                    "logStreamTitle": "",
                    "logEnabled": true,
                    "logStreamName": 14204,
                    "samplingPercentage": 100
                }
            }
        ],
        "uuid": "default",
        "options": {
            "is_secure": true
        },
        "variables": [
            {
                "name": "PMUSER_REFERERHASH",
                "value": "",
                "description": "",
                "hidden": false,
                "sensitive": false
            },
            {
                "name": "PMUSER_IPA_STATUS",
                "value": "",
                "description": "",
                "hidden": false,
                "sensitive": false
            },
            {
                "name": "PMUSER_NS_RESPONSE_BODY",
                "value": "",
                "description": "",
                "hidden": false,
                "sensitive": false
            },
            {
                "name": "PMUSER_TRUE_CLIENT_PORT",
                "value": "%(AK_TRUE_CLIENT_PORT)",
                "description": "",
                "hidden": false,
                "sensitive": false
            },
            {
                "name": "PMUSER_EW_DEBUG_KEY",
                "value": "7fe4a39069***",
                "description": "",
                "hidden": false,
                "sensitive": false
            },
            {
                "name": "PMUSER_EWSEARCH",
                "value": "awesome",
                "description": "",
                "hidden": false,
                "sensitive": false
            },
            {
                "name": "PMUSER_EWNEWTEXT",
                "value": "superAwesome",
                "description": "",
                "hidden": false,
                "sensitive": false
            },
            {
                "name": "PMUSER_GRN",
                "value": "",
                "description": "",
                "hidden": false,
                "sensitive": false
            },
            {
                "name": "PMUSER_ORIGINAL_GRN",
                "value": "",
                "description": "",
                "hidden": false,
                "sensitive": false
            },
            {
                "name": "PMUSER_REFERENCE_ERROR",
                "value": "",
                "description": "",
                "hidden": false,
                "sensitive": false
            },
            {
                "name": "PMUSER_CACHE_KEY",
                "value": "",
                "description": "",
                "hidden": false,
                "sensitive": false
            }
        ],
        "comments": "The behaviors in the Default Rule apply to all requests for the property hostname(s) unless another rule overrides the Default Rule settings."
    }
}